enum OrderStatus {
  CREATED @map("created") // 已创建
  CONFIRMED @map("confirmed") // 已确认
  PENDING   @map("pending") // 支付中
  COMPLETE @map("complete") // 已完成
  CANCELED @map("canceled") // 已取消    
  REFUNDED @map("refunded") // 已退款
}

enum PaymentStatus {
  EXPIRED @map("expired") // 已超时
  COMPLETE  @map("complete") // 已支付
  UNCLEARED @map("uncleared") // 未支付
}

model Order {
  id            String        @id @default(auto()) @map("_id") @db.ObjectId
  amount        Int
  customer      User          @relation(fields: [customerId], references: [id])
  customerId    String        @db.ObjectId
  product       Product       @relation(fields: [productId], references: [id])
  productId     String        @db.ObjectId
  paymentstatus PaymentStatus
  orderStatus   OrderStatus
  createdAt     DateTime      @default(now())
  updatedAt     DateTime      @default(now()) @updatedAt
}

model Product {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now()) @updatedAt
  Order     Order[]
}
